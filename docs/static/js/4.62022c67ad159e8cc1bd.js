webpackJsonp([4],{Kzqp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("WXjl"),o=r("FA3I"),i={components:{MyFooter:s.a,HeaderPart:o.a},name:"Login",data:function(){var e=this;return{loginForm:{username:"",password:""},regForm:{username:"",password:"",checkPass:""},rules:{password:[{validator:function(t,r,s){""===r?s(new Error("请输入密码")):(""!==e.regForm.checkPass&&e.$refs.regForm.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.regForm.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],username:[{validator:function(e,t,r){if(!t)return r(new Error("用户名不能为空"));r()},trigger:"blur"}]}}},methods:{toPage:function(e){this.$router.push(e)},clear:function(){this.loginForm={username:"",password:""}},submitLogin:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.checkLogin(t.loginForm)})},submitReg:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.checkReg(t.regForm)})},checkLogin:function(e){var t={userInfo:e,that:this};this.$store.commit("getUsersAndCheck",t)},checkReg:function(e){var t={userInfo:e,that:this};this.$store.commit("checkRegAndAdd",t)}},computed:{isLogin:function(){var e=this.$route.query.isLogin;return"true"===e}},created:function(){}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("header-part"),e._v(" "),s("div",{staticClass:"login"},[s("div",{staticClass:"top"},[s("router-link",{attrs:{to:"/PC/index"}},[s("img",{attrs:{src:"/static/images/login/logo2.png",alt:"图片"}})]),e._v(" "),s("h2",[e._v("欢迎登录")])],1),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"loginForm"},[s("img",{attrs:{src:r("dZ/S"),draggable:"false",alt:"图片"}}),e._v(" "),s("div",{staticClass:"core"},[s("div",{staticClass:"title"},[e.isLogin?s("h2",[e._v("账号登陆")]):e._e(),e._v(" "),e.isLogin?e._e():s("h2",[e._v("账号注册")])]),e._v(" "),e.isLogin?s("div",{key:"1",staticClass:"form"},[s("el-form",{ref:"loginForm",attrs:{"status-icon":"","label-width":"40px","label-position":"left",model:e.loginForm,"hide-required-asterisk":!0}},[s("el-form-item",{attrs:{label:"账号",prop:"username",rules:[{required:!0,message:"账号不能为空"}]}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password",rules:[{required:!0,message:"密码不能为空"}]}},[s("el-input",{attrs:{type:"password","show-password":"","prefix-icon":"el-icon-lock"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitLogin("loginForm")}}},[e._v("登录")]),e._v(" "),s("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1),e._v(" "),s("el-divider"),e._v(" "),s("div",{staticClass:"footer"},[s("div",{staticClass:"loginSelect"},[e._m(0),e._v(" "),s("div",{staticStyle:{position:"relative",top:"6px"}},[s("el-divider",{attrs:{direction:"vertical"}})],1),e._v(" "),e._m(1)]),e._v(" "),s("div",{staticClass:"right"},[s("el-button",{attrs:{plain:""},on:{click:function(t){return e.toPage("/PC/login?isLogin=false")}}},[e._v("立即注册")])],1)])],1):s("div",{key:"2",staticClass:"form"},[s("el-form",{ref:"regForm",attrs:{"status-icon":"","label-width":"40px","label-position":"left",model:e.regForm,rules:e.rules}},[s("el-form-item",{attrs:{label:"账号",prop:"username"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.regForm.username,callback:function(t){e.$set(e.regForm,"username",t)},expression:"regForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",autocomplete:"off","show-password":"","prefix-icon":"el-icon-lock"},model:{value:e.regForm.password,callback:function(t){e.$set(e.regForm,"password",t)},expression:"regForm.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off","show-password":"","prefix-icon":"el-icon-lock"},model:{value:e.regForm.checkPass,callback:function(t){e.$set(e.regForm,"checkPass",t)},expression:"regForm.checkPass"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitReg("regForm")}}},[e._v("注册")]),e._v(" "),s("el-button",{on:{click:function(t){return e.toPage("/PC/login?isLogin=true")}}},[e._v("\n                  登录")])],1)],1)],1)])])]),e._v(" "),s("my-footer")],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("span",{staticClass:"icon icon_qq"}),this._v(" "),t("span",[this._v("QQ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("span",{staticClass:"icon icon_weixin"}),this._v(" "),t("span",[this._v("微信")])])}]};var n=r("VU/8")(i,a,!1,function(e){r("y6IA")},"data-v-710cc9af",null);t.default=n.exports},"dZ/S":function(e,t,r){e.exports=r.p+"static/img/bg.2da777f.jpg"},y6IA:function(e,t){}});
//# sourceMappingURL=4.62022c67ad159e8cc1bd.js.map